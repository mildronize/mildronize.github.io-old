{"componentChunkName":"component---src-templates-post-short-url-jsx","path":"/s/8jexlus/","result":{"data":{"markdownRemark":{"html":"<p>ได้มีโอกาสคุยกับพี่ชาย ก็ยังรู้สึกว่าหลายๆ คนยังไม่รู้จักคำว่า SSR หรือ Server-side Rendering บวกกับการมาของ <a href=\"https://reactjs.org/blog/2021/06/08/the-plan-for-react-18.html\">React 18</a> ที่นำเสนอ <a href=\"https://www.youtube.com/watch?v=TQQPAU21ZUw\">Server Component</a> เลยรู้สึกตื่นเต้น วันนี้เลยอยากมาแชร์ให้ฟังกันครับ</p>\n<p>ต้องบอกว่า SSR มาพร้อมกับการเขียน JavaScript ยุคสมัยใหม่ เช่น <a href=\"https://reactjs.org/\">React</a>, <a href=\"https://vuejs.org/\">Vue</a>, <a href=\"https://angular.io/\">Angular</a> ที่เราไม่แก้ไข DOM ตรงๆ แต่ใช้กลไกบางอย่างที่ทำให้แก้ไข DOM เท่าที่จำเป็นเท่านั้น เช่น <a href=\"https://reactjs.org/docs/faq-internals.html\">Virtual DOM</a> ทำให้ประสิทธิภาพดีขึ้นกว่าการเขียนแบบเดิมๆ เช่น Vanilla JavaScript หรือใช้ jQuery นั้นเอง เดี๋ยวเราจะคุยประเด็นนี้ในบทความต่อนะครับ</p>\n<blockquote>\n<p>Note: Vanilla เป็น Adjective ที่มาขยายการเขียนด้วย JavaScript เพื่อมาเน้นว่านี้คือการเขียน JavaScript ล้วนๆ นะ ไม่มีอะไรอื่นมาผสม</p>\n</blockquote>\n<h2>SSR ไม่ใช่เรื่องใหม่</h2>\n<p>ถ้าย้อนกลับไปเมื่อ 10 กว่าปีที่แล้ว สมัยที่เราเขียน PHP เพื่อทำ Web Application ซึ่ง PHP เองก็ภาษาฝั่ง Server หมายความว่า PHP source code จะถูก interpret ที่ server แล้วส่ง response กลับมาเป็น HTML มายัง Client ลองมาดูรูปประกอบเพื่อให้เห็นภาพมากขึ้น</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/44cf853bb5c21db56bbb19603dcedab4/2ef06/01-regular-web-application.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.285714285714285%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABC0lEQVQoz2WR626DMAyF+/5P1mnS1Elrd/nBpaCMFUIQhJCQkDPZE0y0lo4iO/HnSw4A4JzDNE183mtZFtxbjJHjpBDCJoof6IExBm3bQimFruvQKYVWSo5prWGtZTidZN573G43CPGN67VAmqYoioILbMDgA1ywuJRnnMs3pE2CsHgG1nWNpmkghIDWBt71cOoVw88z/PCJEOZtEgZSkjET+rHHKXnB08cR7+UFevyLU0HSOI4wxiLMA5w6oRNHxPELiMu2CgZKKXmk1WRLvuWqBKmqCnmec6fzPD/scxV3SHvJsoyTyFY/SVIMw7BL2oOwi21A+p2+73lsvsD/Dz5CVnDcdba+o5F/AYdEHzsHibWEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"regular-web-application\"\n        title=\"regular-web-application\"\n        src=\"/static/44cf853bb5c21db56bbb19603dcedab4/8c557/01-regular-web-application.png\"\n        srcset=\"/static/44cf853bb5c21db56bbb19603dcedab4/4edbd/01-regular-web-application.png 175w,\n/static/44cf853bb5c21db56bbb19603dcedab4/13ae7/01-regular-web-application.png 350w,\n/static/44cf853bb5c21db56bbb19603dcedab4/8c557/01-regular-web-application.png 700w,\n/static/44cf853bb5c21db56bbb19603dcedab4/e996b/01-regular-web-application.png 1050w,\n/static/44cf853bb5c21db56bbb19603dcedab4/2cefc/01-regular-web-application.png 1400w,\n/static/44cf853bb5c21db56bbb19603dcedab4/2ef06/01-regular-web-application.png 2448w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>จากในรูปในขั้นตอนที่ 3 server ก็จะ interpret ให้เป็น HTML แล้วส่งกลับให้ User ให้เห็น Result ของเว็บไซต์</p>\n<p>ซึ่งภาษาฝั่ง Server จะเป็น PHP, Java, Node.js, C#, Go หรืออะไรก็แล้วแต่ ทำหน้าที่รับ request จาก user แล้วแปลงผลเท่านั้น</p>\n<p>คำถามต่อไป คือแล้ว JavaScript ถูกทำงานที่ไหน แน่นอนว่าต้องเป็นที่ Browser อยู่แล้ว ซึ่งโดย Server จะส่ง HTML + CSS + JavaScript เมื่อ Browser โหลด HTML และ CSS เสร็จก็เรียกให้ JavaScript ทำงาน</p>\n<blockquote>\n<p>Note: เพื่อป้องกันการสับสน ถึงแม้ว่า NodeJS จะเขียนด้วยภาษา JavaScript ที่ทำงานอยู่บน <a href=\"https://nodejs.org/\">JavaScript runtime built on Chrome's V8 JavaScript engine</a> ซึ่งทำหน้าที่ execute จาก JavaScript เป็น HTML Response (ที่รวม CSS และ JavaScript (ฝั่ง Client) เข้าด้วยกัน) จากนั้น JavaScript ที่เป็น Client Side จะถูกเรียกก็ต้องเมื่อโหลดบน Browser เท่านั้น</p>\n</blockquote>\n<h2>SSR เป็นกลไกปกติของ Web Application</h2>\n<p>ถ้าเราสังเกตุกลไกการทำงานของ Web Application นั้น มันคือการ render HTML ที่ฝั่ง server ซึ่งก็ตรงตัวกับคำว่า Server-side Rendering ที่หมายถึงการ Render ที่ฝั่ง Server นั้นเอง</p>\n<h2>มี Web Application อยู่แล้ว แล้วทำไมต้องมี SSR อีก ?</h2>\n<p>แบบนี้ครับ จากต้นบทความผมได้บอกไปแล้วว่า SSR\nมาพร้อมกับการเขียน JavaScript ยุคสมัยใหม่ เช่น React, Vue, Angular เป็นต้น</p>\n<p>SSR เกิดมาขึ้นมาจากการเขียน SPA หรือ Single Page Application ครับ ต้องบอกว่า React, Vue, Angular ทำให้การเขียน Single Page Application เป็นที่นิยมมากในปัจจุบัน ซึ่ง SPA สาเหตุที่เรียกว่า SPA ก็คือมันมีหน้าเดียวครับ การ Routing เกิดขึ้นที่ Client ไม่ใช่ Server</p>\n<blockquote>\n<p>Routing คือ ตัวกลางในการจัดการว่าเมื่อมีการเข้าถึง URL หรือ Path นั้น ของเว็บให้ไปเรียก Controller หรือตัวที่เกี่ยวข้องมาจัดการครับ เช่น <a href=\"https://mydomain.com\">https://mydomain.com</a> ต้องไปเรียก Controller ที่เป็น Index หรือ <a href=\"https://mydomain.com/users\">https://mydomain.com/users</a> ต้องไปเรียก Controller ที่จัดการ path <code class=\"language-text\">/users</code> ว่าต้องทำยังไงต่อไป</p>\n</blockquote>\n<p>กลับมาที่ Web Application ทั่วไป Routing จะอยู่ที่ server ครับ เมื่อมีการเข้าถึง Path  หรือ URL อื่นๆ ตัว Routing ก็จะต้องไปเรียก controller นั้นๆ มาจัดการส่งหน้า HTML ให้ client บางที่เค้าถึงเรียกว่า Multi-Page Application</p>\n<p>กลับมาที่ SPA ที่เป็นการ Routing แบบที่เกิดขึ้นที่ Client ดังนั้นเมื่อ Routing เกิดขึ้นที่ client ตัวที่ควบคุมกลไกต่างๆ จึงเป็นหน้าที่ของ JavaScript ที่โหลดมาแค่หน้าเดียวแต่สามารถใช้ URL ที่แตกต่างกันเข้าถึงได้ โดยที่ไม่ต้องพึงพา server เลย</p>\n<h3>บทบาทของ SPA รวมถึงข้อดีและข้อเสีย</h3>\n<p>ในยุคที่ React, Vue, Angular มีความนิยมสูงขึ้นมาก มันจึงทำให้การทำ SPA เป็นเรื่องที่ง่ายขึ้นกว่าแต่ก่อนมากๆ รวมถึงการผลักดัน <a href=\"https://web.dev/progressive-web-apps/\">PWA Application โดย Google</a>  ซึ่งบทบาทของ SPA หลักๆ คือการมาแทนที่ Mobile Application อย่างพวก Android หรือ iOS ได้ (ไม่ได้ทุกกรณี ขึ้นอยู่กับ Requirement)</p>\n<blockquote>\n<p>เราอาจจะเรียก SPA ว่าเป็น CSR (Client-side Rendering) ก็ได้ ถ้า SPA นั้น Render บน client ทั้งหมด จากนี้ขอเรียกว่า CSR แทน SPA เพื่อให้ชัดเจนขึ้นว่า SPA ใช้ Approach CSR.</p>\n</blockquote>\n<p>ข้อดีของ SPA ที่เป็น CSR ก็มีหลายอย่างเช่นกัน User Experience ดีขึ้น ความไหลลื่นในการใช้งาน เพราะลดช่องว่างของการรอระหว่างเปลี่ยนหน้า ซึ่งเกิดจากการรอ response จาก server หรือ การเก็บ Cache ข้อมูลเพื่อให้โหลดข้อมูลได้เร็วขึ้น หรือแม้แต่การใช้ประโยชน์จาก <a href=\"https://developers.google.com/web/fundamentals/primers/service-workers\">Service Worker</a> ในการทำ background process เช่น <a href=\"https://developers.google.com/web/fundamentals/push-notifications\">push notifications</a> และ <a href=\"https://developers.google.com/web/updates/2015/12/background-sync\">background sync</a> เป็นต้น\nหรือการที่เราสามารถ ติดตั้ง SPA ลงเป็นแอพ​ในมือถือได้เลย (โดยใช้ PWA)</p>\n<blockquote>\n<p>Note: <a href=\"https://medium.com/@firt/progressive-web-apps-on-ios-are-here-d00430dee3a7\">PWA บน iOS 12</a> , <a href=\"https://firt.dev/ios-14/\">PWA บน iOS 14</a> ยังมีข้อจำกัดในหลายๆ เรื่อง</p>\n</blockquote>\n<p>อีกหนึ่งข้อดีของ SSR คือ การที่ Library บาง Library อาจจะช่วยลด development cost ได้โดยที่สามารถ Passing value ผ่านเข้า prop โดยตรง โดยที่ไม่ต้อง implement API endpoint ขึ้นมาใหม่ ยกตัวอย่าง <a href=\"https://reactjs.net/\">ReactJS.net</a> ที่สามารถส่ง value จาก backend server ไปยังไง view ได้เลย สังเกตุจากใน code ข้างล่าง</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- This will render the component server-side --></span>\n@Html.React(\"CommentsBox\", new {\n    initialComments = Model.Comments\n})</code></pre></div>\n<p>ถ้าสังเกตุจาก code React components จะต้องถูกส่งค่าจาก components อื่นใน JavaScript แต่ในนี้ เราส่งค่า <code class=\"language-text\">Model.Comments</code> ผ่าน props ที่ชื่อว่า <code class=\"language-text\">initialComments</code> ได้โดยตรงเลย</p>\n<p>ส่วนข้อเสียของ SPA ก็อาจจะเป็น Development Cost ที่สูงขึ้น ถ้าเทียบกับ Web Application (อย่างไร ก็ตามขึ้นอยู่กับความชำนาญของทีมด้วย) เพราะไม่ใช่แค่ Web ที่แสดงผลของจาก backend server แต่ยังต้อง manage state จัดการ authentication หรือ authorization หรืออื่นๆ อีกมากมาย (มากหรือน้อย ขึ้นอยู่กับ requirement)</p>\n<p>อีกหนึ่งข้อเสียของ SPA ที่จะไม่พูดไม่ได้เลย และเป็นที่มาของบทความนี้คือ ระยะเวลาในการโหลดครั้งแรกสูง (High Initial Load) เมื่อเทียบกับ SSR</p>\n<p>เพื่อให้เห็นภาพมากขึ้นจากรูป SSR และ CSR</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7a8f4aad134344027d2b570cedfde3ac/d61f1/02-csr-vs-ssr.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSklEQVQoz21SCY7CMAzs/z+ItKy4tLSUlkBztYmTzsqGlCJhyXKcGY+do5rnGWxEhOv1irZtJV4uF4zjiGI5Z3RdJ85Y0zTQWgvGGsWrsrE2zlmgmPcjMOOjeI2v66uSKKuwb3cIKRQagv0DuRO8s2huNU79EXnOb9wcQO78En0KL4I33WNb/0A7DYr0vAZfg+wR3jvU/Rm/5y2MM4ghLoJxEVwdOaWEnDJGP6Lve3FjDIz1oDTDOSdNwhRlX3IiUAIi5c8js1gIQQiFzG6thTEaKZGsGf9mPL1SSjRijG9Bjvyq/HLDMIgod+Z97z0GY6Du9wW/v9bciLnM4fqqfIkpBCEwkb8Gr7ljJBJipxQ2u70UsjPGddxwbU/BlGSCzf4gHQuRI0/JV8GcaZpEjGP5NoXz8SgF1Nbi8XjAGiMTFOMJv93hWqjk/7p2DOWtC4IOAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"CSR vs SSR redrawn from https://blog.logrocket.com/next-js-vs-create-react-app/\"\n        title=\"CSR vs SSR redrawn from https://blog.logrocket.com/next-js-vs-create-react-app/\"\n        src=\"/static/7a8f4aad134344027d2b570cedfde3ac/8c557/02-csr-vs-ssr.png\"\n        srcset=\"/static/7a8f4aad134344027d2b570cedfde3ac/4edbd/02-csr-vs-ssr.png 175w,\n/static/7a8f4aad134344027d2b570cedfde3ac/13ae7/02-csr-vs-ssr.png 350w,\n/static/7a8f4aad134344027d2b570cedfde3ac/8c557/02-csr-vs-ssr.png 700w,\n/static/7a8f4aad134344027d2b570cedfde3ac/e996b/02-csr-vs-ssr.png 1050w,\n/static/7a8f4aad134344027d2b570cedfde3ac/2cefc/02-csr-vs-ssr.png 1400w,\n/static/7a8f4aad134344027d2b570cedfde3ac/d61f1/02-csr-vs-ssr.png 4053w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<blockquote>\n<p>Note: รูปนี้อาจจะไม่ใช่ การ implement SSR ในรูปแบบทั่วไป แต่วาดออกมาเพื่อยกตัวอย่างให้เห็นภาพ เพราะจริงๆ SSR เอง อธิบายแค่การ Render พร้อม data จาก server แล้วเท่านั้นเอง โดยรูปดังกล่าวเป็นการวาดโดยอ้างจากหลักการทำ SSR เบื้องต้นใน <a href=\"https://nextjs.org/\">Next.js</a> ซึ่งมีการอธิบายเปรียบเทียบอย่างดีแล้วใน<a href=\"https://blog.logrocket.com/next-js-vs-create-react-app/\">บทความของ logrocket ที่เปรียบ Next.js กับ Create React App</a></p>\n</blockquote>\n<p>ถ้าเราดูจากรูป CSR ทางซ้ายมือ ในขั้นที่ 2 ที่เว็บโหลดขึ้นมา เรายังไม่ได้ Data มาเลย อาจจะมีแค่ UI หรือจะมี Spinner รอโหลดข้อมูลมา ตัว client จะต้องส่งไปขอข้อมูลมาจากเว็บ อีกรอบถึงจะแสดงว่าเว็บที่สมบูรณ์ได้</p>\n<p>ในขณะที่ SSR ทางขวามือ ในขั้นที่ 3 เราก็สามารถได้ หน้าเว็บที่สมบูรณ์ได้เลย เพราะในขั้นตอนที่ 2 ก่อนที่ server จะส่งออกมา ก็ทำจากเรียก API จากตัว server เลย ทำให้ประหยัดเวลากว่า</p>\n<h2>แล้วเครื่องมือในปัจจุบันมีแบบไหนกันบ้าง</h2>\n<ul>\n<li>ตัวแรกเลยคือ <a href=\"https://reactjs.org/docs/create-a-new-react-app.html\">Create React App</a> โดยเราสามารถเขียน SPA แบบ CSR ได้โดย default เลย แต่ถ้าจะทำ SSR ใน official docs เค้าแนะนำให้ไปใช้ <a href=\"https://nextjs.org/\">Next.js</a> แทน ซึ่งทำได้ดีๆ มากๆ\n<ul>\n<li>แต่ข้อเสียคือ เราอาจจะต้องใช้ backend server ที่เป็น JavaScript</li>\n</ul>\n</li>\n<li>ส่วนถ้าเป็นการทำ SSR ภาษาอื่นๆ ก็สามารถทำได้ครับ แต่อาจจะต้อง customize เองเช่น <a href=\"https://reactjs.net/\">ReactJS.net</a> ที่ทำงานร่วมกับ ASP.NET Core หรือภาษา Python, Java ก็มีเหมือนกัน</li>\n</ul>\n<blockquote>\n<p>Note: ขอไม่พูดถึง <a href=\"https://www.gatsbyjs.com/\">Gatsby</a> เพราะวัตถุประสงค์การใช้งานต่างกัน ตัวนี้เหมาะสมสำหรับทำ <a href=\"https://www.netlify.com/blog/2020/04/14/what-is-a-static-site-generator-and-3-ways-to-find-the-best-one/\">Static Site Generator</a> มากกว่า</p>\n</blockquote>\n<h2>หลักในการเลือก</h2>\n<ul>\n<li>เลือก SSR\n<ul>\n<li>ถ้าอยากให้ Faster initial loading.</li>\n<li>Improve SEO เพราะว่าการทำ Multi-Page จะทำให้ search engine ทำงานได้ดีกว่า และง่ายกว่า</li>\n</ul>\n</li>\n<li>เลือก CSR\n<ul>\n<li>ไม่ได้กังวลเรื่อง SEO มาก</li>\n</ul>\n</li>\n</ul>\n<p>แต่อย่างไรก็ตาม การทำ SEO บน SPA ก็เป็นเรื่องที่ท้าทาย ซึ่ง<a href=\"https://www.searchenginewatch.com/2018/04/09/an-seos-survival-guide-to-single-page-applications-spas/\">บทความของ Search Engine Watch</a> เขียนไว้ดีมาก และพูดเนื้อหาที่เป็นประโยชน์ในการเขียน SPA  เลือกใช้กลไก SSR หรือ CSR อย่างเหมาะสม เพราะการทำ SSR บางครั้งก็ใช้ development cost ที่สูงกว่าปกติ</p>\n<blockquote>\n<p>Note: ในบทความนี้ขอไม่พูดถึง Complex Architecture อย่าง Micro Frontend นะครับ เพราะถือว่าขึ้นอยู่กับการ Manage ไป อาจจะมีการ Mix กันหลายๆ Approach</p>\n</blockquote>\n<h2>แหล่งข้อมูลดีๆ สำหรับ SPA</h2>\n<p>จาก<a href=\"https://www.searchenginewatch.com/2018/04/09/an-seos-survival-guide-to-single-page-applications-spas/\">บทความของ Search Engine Watch</a> ได้หยิบยกตัวอย่างข้อมูลดีๆ สำหรับทำ SEO บน SPA ผมเลยขอหยิบมาเขียนซ้ำอีกรอบ:</p>\n<ul>\n<li><a href=\"https://www.elephate.com/blog/ultimate-guide-javascript-seo/\">The Ultimate Guide to JavaScript SEO</a> by Tomasz Rudzki</li>\n<li>General overview of Single Page Applications and how Google treats them: <a href=\"https://www.youtube.com/watch?v=JlP5rBynK3E\">Watch this video</a> by Google ‎Senior Webmaster Trends Analyst <a href=\"https://www.linkedin.com/in/johnmu/\">John Mueller</a></li>\n<li><a href=\"https://www.briggsby.com/auditing-javascript-for-seo/\">Auditing JavaScript for SEO</a>, and <a href=\"https://www.briggsby.com/dealing-with-javascript-for-seo/\">Core Principles of SEO for JavaScript</a> by Justin Briggs</li>\n<li><a href=\"https://builtvisible.com/javascript-framework-seo/\">The Basics of JavaScript Framework SEO in AngularJS</a> by Richard Baxter</li>\n<li><a href=\"https://www.distilled.net/resources/split-testing-javascript-for-seo/\">Early Results from Split Testing JavaScript for SEO</a> by Will Critchlow</li>\n<li><a href=\"http://www.stateofdigital.com/javascript-seo-the-definitive-resource-list/\">JavaScript &#x26; SEO: The Definitive Resource List</a></li>\n<li><a href=\"https://blog.twentysixdigital.com/seo/seo-considerations-for-single-page-applications/\">SEO Considerations for Single Page Applications</a></li>\n<li><a href=\"https://blog.angular-university.io/why-a-single-page-application-what-are-the-benefits-what-is-a-spa/\">Angular Single Page Applications (SPA): What are the Benefits?</a> by Angular University</li>\n<li>This Microsoft article: <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/modern-web-apps-azure-architecture/choose-between-traditional-web-and-single-page-apps\">Choose Between Traditional Web Apps and Single Page Apps (SPAs)</a></li>\n<li>A few different SPA types <a href=\"https://blog.codecentric.de/en/2017/12/angular-single-page-applications/\">by Johann Wagner</a></li>\n<li>Very good overview: <a href=\"https://www.scalablepath.com/blog/single-page-applications/\">Single Page Applications: When &#x26; Why You Should Use Them</a></li>\n</ul>\n<h2>Final Thought</h2>\n<p>สุดท้ายนี้ การทำ SSR ก็ไม่ใช่วิธีการเดียวสำหรับการเพิ่มประสิทธิภาพ แต่เราสามารถใช้ทริคอื่นๆ แทนได้ เพื่อให้ประสิทธิภาพดีขึ้น อาจจะไม่ดีที่สุด แต่ development cost ไม่สูงเกินไป เช่นการทำ caching เป็นต้น</p>\n<p>อย่างไรก็ตามบทความนี้เป็นเพียงหนึ่งวิธีการที่สามารถเพิ่มประสิทธิภาพของ SPA การปรับปรุงควรคำนึงถึงในหลายๆ ปัจจัย เช่น ต้นทุน ทีม หรือฝั่ง business เป็นต้น</p>\n<p>Enjoy coding...</p>\n<p>ความตั้งใจเดิมอยากเขียนไปให้ถึง Server Component ใน React 18 แต่เอาไว้ยกยอดไป Blog หน้า ถ้ามีใครมีประเด็นอะไรอยากเสริมหรือแนะนำ ผมยินดีเลยครับ สำหรับวันนี้ลาไปก่อน สวัสดีครับ</p>\n<h2>Acknowledgement</h2>\n<p>สุดท้ายนี้ (จริงๆแล้วน้า) ขอขอบคุณ<a href=\"https://www.dotnetthailand.com/\">ทีมงาน Admin .NET Thailand</a> มากๆ ที่ช่วยรีวิวและแนะนำบทความนี้จนสามารถเผยแพร่ออกไปได้</p>","timeToRead":6,"excerpt":"ได้มีโอกาสคุยกับพี่ชาย ก็ยังรู้สึกว่าหลายๆ คนยังไม่รู้จักคำว่า SSR หรือ Server-side Rendering บวกกับการมาของ React 18 ที่นำเสนอ Server…","frontmatter":{"title":"เราควรเพิ่มประสิทธิภาพของ Single Page Application โดยใช้ Server-side Rendering (SSR) หรือไม่","date":null,"category":"React","tags":["SSR","SEO","React","SPA","PWA","Server-side Rendering"],"unsplashImgCoverId":"l5if0iQfV4c"},"fields":{"slug":"8jexlus","date":"2021-06-29","readableSlug":"เราควรเพิ่มประสิทธิภาพของ-single-page-application-โดยใช้-server-side-rendering-ssr-หรือไม่","isDraft":false,"shortPathname":"/s/8jexlus/"}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"we3xr8r","renderedPathname":"/how-to-setup-this-blog-we3xr8r/"}}},{"node":{"fields":{"slug":"91bu9k0","renderedPathname":"/simple-soap-client-and-simple-server-via-flask-91bu9k0/"}}},{"node":{"fields":{"slug":"hm371bt","renderedPathname":"/my-blog-development-for-jekyll-site-hm371bt/"}}},{"node":{"fields":{"slug":"928lrr0","renderedPathname":"/การแทนตัวอักษรภาษาไทยในระบบการเข้ารหัสแบบต่างๆ-928lrr0/"}}},{"node":{"fields":{"slug":"e52fdze","renderedPathname":"/มาอัพเดท-debian-จากเวอร์ชั่น-stable-มาเป็น-sid-กันเถอะ-e52fdze/"}}},{"node":{"fields":{"slug":"l0ywmex","renderedPathname":"/how-to-upgrade-debian-to-sid-l0ywmex/"}}},{"node":{"fields":{"slug":"lo3mz9g","renderedPathname":"/git-hub-page-build-failure-solution-lo3mz9g/"}}},{"node":{"fields":{"slug":"uckstjz","renderedPathname":"/วิธีการติดตั้ง-google-chrome-บน-debian-uckstjz/"}}},{"node":{"fields":{"slug":"lay4u9o","renderedPathname":"/how-to-install-google-chrome-on-debian-lay4u9o/"}}},{"node":{"fields":{"slug":"612v702","renderedPathname":"/เวอร์ชั่นแต่ละเวอร์ชั่นของ-debian-คืออะไร-อะไรคือ-sid-testing-stable-โอ๊ยเยอะแยะไปหมด-612v702/"}}},{"node":{"fields":{"slug":"it3xlde","renderedPathname":"/มือใหม่หัดใช้ลินุกซ์ครั้งแรก-it3xlde/"}}},{"node":{"fields":{"slug":"8q0uj3s","renderedPathname":"/วิธีการทำให้-gnome-nautilus-แสดง-directory-ก่อนไฟล์-8q0uj3s/"}}},{"node":{"fields":{"slug":"1jxvb3m","renderedPathname":"/how-to-compile-install-gnome-builder-on-debian-1jxvb3m/"}}},{"node":{"fields":{"slug":"rfih9o0","renderedPathname":"/how-to-use-vim-with-clipboard-on-debian-rfih9o0/"}}},{"node":{"fields":{"slug":"2zgi1pu","renderedPathname":"/ทริคการใช้-git-การ-merge-บางไฟล์ไปอีก-branch-2zgi1pu/"}}},{"node":{"fields":{"slug":"ix43nzw","renderedPathname":"/วิธีการตั้งค่า-vpn-ของม-สงขลานครินทร์-psu-ix43nzw/"}}},{"node":{"fields":{"slug":"z578nvw","renderedPathname":"/guideline-for-upgrading-jekyll-from-2-x-to-3-x-z578nvw/"}}},{"node":{"fields":{"slug":"2vpnolt","renderedPathname":"/วิธีติดตั้งเกม-hearthstone-heroes-of-warcraft-บน-debian-2vpnolt/"}}},{"node":{"fields":{"slug":"4hztzdg","renderedPathname":"/เปิด-hotspot-wi-fi-เองโดยที่ต้องไม่พึ่งโปรแกรมใดๆ-บน-windows-4hztzdg/"}}},{"node":{"fields":{"slug":"utkfndt","renderedPathname":"/awesome-หนึ่งในคำสำคัญ-keyword-ที่โปรแกรมเมอร์ทุกคนควรจะรู้จักไว้-utkfndt/"}}},{"node":{"fields":{"slug":"ptkagjo","renderedPathname":"/titlesec-latex-package-doesnt-create-section-numbers-on-version-2-10-1-ptkagjo/"}}},{"node":{"fields":{"slug":"0967oym","renderedPathname":"/a-very-short-ubuntu-debian-packages-installation-sheet-0967oym/"}}},{"node":{"fields":{"slug":"92rs1lc","renderedPathname":"/การเดินทางของ-xiaomi-mi-2-s-และแนวทางแก้ปัญหาเซนเซอร์แนบหู-proximity-sensor-ไม่ทำงาน-92rs1lc/"}}},{"node":{"fields":{"slug":"nbqw9e1","renderedPathname":"/เขียนบล็อกด้วยภาษา-markdown-ด้วยแอพจดโน๊ต-bear-บน-i-os-nbqw9e1/"}}},{"node":{"fields":{"slug":"et0zg84","renderedPathname":"/ทำไมเราถึงควรใช้ฐานข้อมูลอนุกรมเวลาสำหรับ-ข้อมูลอนุกรมเวลา-time-series-database-et0zg84/"}}},{"node":{"fields":{"slug":"jmm9qn9","renderedPathname":"/รู้จักกับฐานข้อมูลอนุกรมเวลา-open-tsdb-กันเถอะ-jmm9qn9/"}}},{"node":{"fields":{"slug":"mo4feik","renderedPathname":"/วิธีตั้งค่าการใช้งาน-github-แบบไม่ต้องกรอกรหัสผ่านทุกครั้ง-ผ่าน-ssh-บน-windows-mo4feik/"}}},{"node":{"fields":{"slug":"leu0374","renderedPathname":"/promise-async-await-ของ-js-es-6-ฉบับสั้นๆ-ไม่พูดเยอะ-เจ็บคอ-แถม-rx-js-leu0374/"}}},{"node":{"fields":{"slug":"lm28n32","renderedPathname":"/getting-started-tdd-in-30-seconds-with-python-lm28n32/"}}},{"node":{"fields":{"slug":"i4kssit","renderedPathname":"/ได้-99-คะแนนจาก-google-insights-เรียนรู้การทำ-web-optimization-i4kssit/"}}},{"node":{"fields":{"slug":"9tdymnn","renderedPathname":"/สิ่งที่ได้รับจากการเรียนวิศวกรรมคอมพิวเตอร์ปริญญาโท-9tdymnn/"}}},{"node":{"fields":{"slug":"14liwiu","renderedPathname":"/amazing-ui-design-articles-14liwiu/"}}},{"node":{"fields":{"slug":"ho462dz","renderedPathname":"/react-design-patterns-ho462dz/"}}},{"node":{"fields":{"slug":"a7ng95o","renderedPathname":"/ย้ายจาก-react-class-component-มาเป็น-functional-component-ง่ายกว่าที่คิด-a7ng95o/"}}},{"node":{"fields":{"slug":"wes5jlp","renderedPathname":"/จัดการ-side-effects-ใน-react-ด้วย-hook-use-effect-wes5jlp/"}}},{"node":{"fields":{"slug":"whaab42","renderedPathname":"/react-import-export-component-pattern-whaab42/"}}},{"node":{"fields":{"slug":"t2z614m","renderedPathname":"/run-c-scripts-ไฟล์เดียว-โดยใช้-net-cli-t2z614m/"}}},{"node":{"fields":{"slug":"qlh6tbh","renderedPathname":"/ชีวิตดีเมื่อใช้-fluent-assertions-ช่วยในเขียน-test-เพื่อเปรียบเทียบ-object-ที่ซับซ้อน-qlh6tbh/"}}},{"node":{"fields":{"slug":"7vzlyj3","renderedPathname":"/type-script-4-9-มาใช้-satisfies-เพื่อทำให้-type-ถูกต้องมากขึ้นกันเถอะ-7vzlyj3/"}}},{"node":{"fields":{"slug":"cnhkvv7","renderedPathname":"/responsive-expanding-search-bar-cnhkvv7/"}}},{"node":{"fields":{"slug":"5zqwlzs","renderedPathname":"/ปัญหาการพิมพ์ภาษาไทยบน-atom-editor-5zqwlzs/"}}},{"node":{"fields":{"slug":"gtg6emr","renderedPathname":"/mildy-my-debian-customization-gtg6emr/"}}},{"node":{"fields":{"slug":"deb407s","renderedPathname":"/ทำไม-mount-volume-ของ-docker-บน-windows-แล้วมองไม่เห็นไฟล์-deb407s/"}}},{"node":{"fields":{"slug":"1esbgon","renderedPathname":"/ใช้งานภาษาไทยบน-xe-la-te-x-ฉบับรีบร้อน-1esbgon/"}}},{"node":{"fields":{"slug":"5v44hmt","renderedPathname":"/วิธีการเริ่มการทำงาน-vm-ของ-virtual-box-แบบทำงานเบื้องหลัง-5v44hmt/"}}},{"node":{"fields":{"slug":"4hfvb6r","renderedPathname":"/การเขียนงานวิจัยประชุมวิชาการครั้งแรก-4hfvb6r/"}}},{"node":{"fields":{"slug":"x6nfc7a","renderedPathname":"/อยากแชร์-เรื่องหลังจาการตัดสินใจ-ทำไมถึงใช้เวลาทำวิจัยป-โท-แค่-7-เดือน-x6nfc7a/"}}},{"node":{"fields":{"slug":"2kbbdkt","renderedPathname":"/วิธีการรัน-java-script-ข้างนอก-bundle-ของ-webpack-และการเรียกใช้-j-query-ภายใน-webpack-2kbbdkt/"}}},{"node":{"fields":{"slug":"p8c504z","renderedPathname":"/ทำ-task-management-ด้วย-template-my-things-fully-inspired-by-things-3-application-p8c504z/"}}},{"node":{"fields":{"slug":"fk36d30","renderedPathname":"/มาเขียน-notion-formula-with-confidence-ด้วย-tdd-กัน-แจก-formula-thousand-comma-ด้วยนะ-fk36d30/"}}},{"node":{"fields":{"slug":"8jexlus","renderedPathname":"/เราควรเพิ่มประสิทธิภาพของ-single-page-application-โดยใช้-server-side-rendering-ssr-หรือไม่-8jexlus/"}}},{"node":{"fields":{"slug":"qocjeqb","renderedPathname":"/ตั้งค่าให้-github-actions-แสดง-previews-deploy-เมื่อส่ง-pull-request-โดยใช้-vercel-qocjeqb/"}}},{"node":{"fields":{"slug":"hzpnrnx","renderedPathname":"/วิธีการตั้งค่า-ssh-สำหรับ-git-hub-เพื่อให้จำรหัสผ่านบน-windows-wsl-mac-os-และ-ubuntu-hzpnrnx/"}}},{"node":{"fields":{"slug":"0ydbrqj","renderedPathname":"/การใช้งาน-multi-modules-ต่อ-workspace-ใน-vs-codeและ-วิธีการแก้ปัญหา-you-are-outside-of-a-module-and-outside-of-gopath-src-0ydbrqj/"}}},{"node":{"fields":{"slug":"suzlta6","renderedPathname":"/dealing-with-more-than-100-secrets-on-git-hub-actions-using-mozilla-sops-and-azure-key-vault-suzlta6/"}}},{"node":{"fields":{"slug":"c2tcmvl","renderedPathname":"/ลดขนาด-docker-image-ของ-nest-js-prisma-กับ-nx-monorepo-ประมาณ-97-ด้วย-esbuild-bundle-c2tcmvl/"}}},{"node":{"fields":{"slug":"bulndnf","renderedPathname":"/draft/react-best-practices-checklist-bulndnf/"}}},{"node":{"fields":{"slug":"yvtxh9c","renderedPathname":"/draft/react-dark-mode-yvtxh9c/"}}},{"node":{"fields":{"slug":"p72tqcd","renderedPathname":"/draft/react-stylesheet-p72tqcd/"}}},{"node":{"fields":{"slug":"4vwhqae","renderedPathname":"/draft/git-cookbook-4vwhqae/"}}},{"node":{"fields":{"slug":"obu52c9","renderedPathname":"/draft/git-in-action-obu52c9/"}}},{"node":{"fields":{"slug":"ubtbao5","renderedPathname":"/draft/security-ubtbao5/"}}},{"node":{"fields":{"slug":"j5trzrh","renderedPathname":"/draft/webpack-multiple-entry-points-j5trzrh/"}}},{"node":{"fields":{"slug":"l8cwdzj","renderedPathname":"/draft/gatsby-with-google-analytics-l8cwdzj/"}}},{"node":{"fields":{"slug":"sn99eu2","renderedPathname":"/draft/ปี-2021-แล้ว-redux-ยังน่าใช้อยู่มั้ย-sn99eu2/"}}},{"node":{"fields":{"slug":"r6lb1z1","renderedPathname":"/draft/ปี-2021-แล้ว-boostrap-ยังน่าใช้อยู่มั้ย-r6lb1z1/"}}},{"node":{"fields":{"slug":"hal2uva","renderedPathname":"/draft/setup-type-script-hal2uva/"}}},{"node":{"fields":{"slug":"6ecucle","renderedPathname":"/draft/type-script-6ecucle/"}}},{"node":{"fields":{"slug":"7sza35r","renderedPathname":"/draft/มาดูกันว่ามีอะไรบ้างที่ทำให้การเขียน-css-ง่ายขึ้น-เอ๊ะ-หรือยากขึ้น-7sza35r/"}}},{"node":{"fields":{"slug":"xo7nmlr","renderedPathname":"/draft/react-xo7nmlr/"}}},{"node":{"fields":{"slug":"zmpgpk8","renderedPathname":"/draft/read-private-key-from-env-file-zmpgpk8/"}}},{"node":{"fields":{"slug":"ne5q3pt","renderedPathname":"/draft/shortcut-css-in-js-responsive-ne5q3pt/"}}},{"node":{"fields":{"slug":"w5y3zzn","renderedPathname":"/draft/styled-component-type-script-w5y3zzn/"}}},{"node":{"fields":{"slug":"7y0e9i6","renderedPathname":"/draft/c-type-script-cheat-sheet-7y0e9i6/"}}},{"node":{"fields":{"slug":"kxkqrql","renderedPathname":"/draft/dependency-injection-in-asp-net-core-kxkqrql/"}}},{"node":{"fields":{"slug":"abfn33i","renderedPathname":"/draft/introduction-to-type-script-abfn33i/"}}},{"node":{"fields":{"slug":"g4owyyw","renderedPathname":"/draft/modern-javascript-es-6-ใน-react-ที่พบได้บ่อย-แถม-type-script-g4owyyw/"}}},{"node":{"fields":{"slug":"lygyofl","renderedPathname":"/draft/offsetting-an-html-anchor-to-adjust-for-fixed-header-lygyofl/"}}},{"node":{"fields":{"slug":"218xi1n","renderedPathname":"/draft/node-js-esm-218xi1n/"}}},{"node":{"fields":{"slug":"68zrdlq","renderedPathname":"/draft/type-script-สำหรับ-everyday-uses-68zrdlq/"}}},{"node":{"fields":{"slug":"h4uaaip","renderedPathname":"/draft/uptime-kuma-on-azure-virtual-machine-h4uaaip/"}}},{"node":{"fields":{"slug":"55dtwqq","renderedPathname":"/draft/how-to-choose-proper-component-ui-react-55dtwqq/"}}},{"node":{"fields":{"slug":"p96v4ze","renderedPathname":"/draft/gatsby-thai-font-sharing-social-p96v4ze/"}}},{"node":{"fields":{"slug":"k9xf79y","renderedPathname":"/draft/jimp-load-font-function-renders-non-english-thai-font-ugly-with-vowel-character-k9xf79y/"}}},{"node":{"fields":{"slug":"bqfiofl","renderedPathname":"/draft/get-page-view-from-google-analytics-by-page-path-bqfiofl/"}}},{"node":{"fields":{"slug":"e6zs48e","renderedPathname":"/draft/บันทึก-seo-และ-social-media-e6zs48e/"}}},{"node":{"fields":{"slug":"g3k2o1b","renderedPathname":"/draft/วิธีการ-build-asp-net-framework-และ-deploy-ไปยัง-azure-app-service-g3k2o1b/"}}},{"node":{"fields":{"slug":"l2kc44e","renderedPathname":"/draft/introduction-to-git-hub-action-l2kc44e/"}}},{"node":{"fields":{"slug":"3s569jw","renderedPathname":"/draft/ทำไมเราควรติด-type-ภาษา-java-script-ด้วย-type-script-3s569jw/"}}},{"node":{"fields":{"slug":"ulguf3h","renderedPathname":"/draft/how-to-debug-a-node-js-application-in-visual-studio-code-java-script-debugging-ulguf3h/"}}},{"node":{"fields":{"slug":"qdz8lz2","renderedPathname":"/draft/นำพาโปรเจ็ค-asp-net-แบบ-web-site-project-อายุร่วม-8-ปี-เข้าสู่ยุค-automate-build-ด้วย-git-hub-actions-qdz8lz2/"}}},{"node":{"fields":{"slug":"d070sbs","renderedPathname":"/draft/site-reliability-engineering-d070sbs/"}}},{"node":{"fields":{"slug":"tjd75q6","renderedPathname":"/draft/deploy-multiple-azure-app-services-using-git-hub-actions-matrix-tjd75q6/"}}},{"node":{"fields":{"slug":"h3kmk3n","renderedPathname":"/draft/3-เรื่อง-ที่ควรทำหลังติดตั้ง-wsl-บน-windows-เพื่อทำให้การใช้งานร่วมกับ-vs-code-สะดวกมากขึ้น-h3kmk3n/"}}},{"node":{"fields":{"slug":"kauwjer","renderedPathname":"/draft/how-to-hide-github-action-secrets-kauwjer/"}}},{"node":{"fields":{"slug":"9ahhltg","renderedPathname":"/draft/provider-azurerm-version-3-ออกมาแล้ว-มีอะไรเปลี่ยนไปบ้าง-มีอะไรที่-deprecated-9ahhltg/"}}},{"node":{"fields":{"slug":"uxzmr8c","renderedPathname":"/draft/unintended-circular-dependency-of-dependency-injection-using-type-script-uxzmr8c/"}}},{"node":{"fields":{"slug":"h10x942","renderedPathname":"/draft/วิธี-backup-database-และเตรียม-migration-script-บน-sql-server-ด้วย-command-line-h10x942/"}}},{"node":{"fields":{"slug":"7rwsbzv","renderedPathname":"/draft/type-script-object-mapping-7rwsbzv/"}}},{"node":{"fields":{"slug":"noqcy49","renderedPathname":"/draft/dotnet-6-env-noqcy49/"}}}]}},"pageContext":{"slug":"8jexlus","nexttitle":"ตั้งค่าให้ Github Actions แสดง Previews Deploy เมื่อส่ง Pull Request โดยใช้ Vercel","nextslug":"qocjeqb","prevtitle":"มาเขียน Notion Formula with Confidence ด้วย TDD กัน (แจก Formula Thousand Comma ด้วยนะ)","prevslug":"fk36d30"}},"staticQueryHashes":[]}